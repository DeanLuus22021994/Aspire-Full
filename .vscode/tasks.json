{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "üî® Build Solution",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "build"],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared",
        "clear": true
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "üß™ Run All Tests",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "test"],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "üß™ Run Unit Tests",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "test", "-Unit"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "üß™ Run Tests with Coverage",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "test", "-Coverage"],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "üîç Code Analysis",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "analyze"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "ü©∫ Doctor (Health Check)",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "doctor"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "üìä Performance Profile",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "profile"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": "$msCompile"
    },
    {
      "label": "ü§ñ AI Analysis",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "ai", "analyze"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "üßπ Clean (Basic)",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "clean"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "üßπ Clean (Deep)",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "clean", "-Deep"],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "üëÅÔ∏è Watch Mode",
      "type": "shell",
      "command": "pwsh",
      "args": ["-File", "${workspaceFolder}/scripts/cli-orchestrator.ps1", "watch"],
      "group": "none",
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "dedicated"
      },
      "problemMatcher": {
        "pattern": {
          "regexp": "^(.*)$",
          "file": 1
        },
        "background": {
          "activeOnStart": true,
          "beginsPattern": "^dotnet watch",
          "endsPattern": "^Application started"
        }
      }
    },
    {
      "label": "extensions:start",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "${workspaceFolder}/.vscode/extensions/docker-compose.extensions.yml", "up", "-d"],
      "problemMatcher": []
    },
    {
      "label": "extensions:stop",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "${workspaceFolder}/.vscode/extensions/docker-compose.extensions.yml", "down"],
      "problemMatcher": []
    },
    {
      "label": "extensions:rebuild",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "${workspaceFolder}/.vscode/extensions/docker-compose.extensions.yml",
        "build",
        "--pull"
      ],
      "problemMatcher": []
    },
    {
      "label": "mcp:start",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "${workspaceFolder}/.vscode/mcp/docker-compose.mcp.yml", "up", "-d"],
      "problemMatcher": []
    },
    {
      "label": "mcp:stop",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "${workspaceFolder}/.vscode/mcp/docker-compose.mcp.yml", "down"],
      "problemMatcher": []
    },
    {
      "label": "mcp:rebuild",
      "type": "shell",
      "command": "docker",
      "args": ["compose", "-f", "${workspaceFolder}/.vscode/mcp/docker-compose.mcp.yml", "build", "--pull"],
      "problemMatcher": []
    },
    {
      "label": "native:build",
      "type": "shell",
      "command": "cmake --build ${workspaceFolder}/Aspire-Full.Native/build --config Release",
      "windows": {
        "command": "${workspaceFolder}/Aspire-Full.Native/build.bat"
      },
      "linux": {
        "command": "mkdir -p ${workspaceFolder}/Aspire-Full.Native/build && cd ${workspaceFolder}/Aspire-Full.Native/build && cmake .. -DCMAKE_BUILD_TYPE=Release && cmake --build . --config Release && cp libAspireFullNative.so ../../Aspire-Full.Api/bin/Debug/net10.0/ && cp libAspireFullNative.so ../../Aspire-Full.Tensor/bin/Debug/net10.0/"
      },
      "group": {
        "kind": "build",
        "isDefault": false
      },
      "problemMatcher": []
    },
    {
      "label": "build",
      "command": "dotnet",
      "type": "process",
      "args": [
        "build",
        "${workspaceFolder}/Aspire-Full.slnf",
        "/property:GenerateFullPaths=true",
        "/consoleloggerparameters:NoSummary"
      ],
      "problemMatcher": "$msCompile",
      "dependsOn": ["native:build"]
    },
    {
      "label": "generate-dependency-report",
      "type": "shell",
      "command": "uv",
      "args": ["run", "--python", "3.15t", "scripts/generate_dependency_report.py"],
      "problemMatcher": []
    }
  ]
}
