version: "3.9"

services:
  windows-ai-studio-extension:
    build:
      context: .
      dockerfile: windows-ai-studio/Dockerfile
    image: aspire/windows-ai-studio-extension:latest
    container_name: aspire-windows-ai-studio-extension
    volumes:
      - windows_ai_studio_extension_cache:/opt/extensions/ms-windows-ai-studio.windows-ai-studio
    restart: unless-stopped

  azure-github-copilot-extension:
    build:
      context: .
      dockerfile: azure-github-copilot/Dockerfile
    image: aspire/azure-github-copilot-extension:latest
    container_name: aspire-azure-github-copilot-extension
    volumes:
      - azure_github_copilot_extension_cache:/opt/extensions/ms-azuretools.vscode-azure-github-copilot
    restart: unless-stopped

volumes:
  windows_ai_studio_extension_cache:
    name: aspire_windows_ai_studio_extension_cache
  azure_github_copilot_extension_cache:
    name: aspire_azure_github_copilot_extension_cache
